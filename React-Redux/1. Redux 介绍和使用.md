> [!success]
> Redux 学习资源 
> [Redux官方网站(英文)](https://react-redux.js.org/api/hooks)


## Provider

>[!tip] > Provider 实际上是利用了 react 的 contexts 机制 , 在顶层组件提供了 名为 store 的 全局上下文, 使得其他组件可以访问 (通过 hooks 和 Connect api , 推荐 hooks) 
> 需要用 `<Provider />` 包裹整个组件, 来使 store 在整个组件树可用

```jsx
import React from 'react'
import ReactDOM from 'react-dom/client'

import { Provider } from 'react-redux'
import store from './store'

import App from './App'

// As of React 18
const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(
  <Provider store={store}>
    <App />
  </Provider>
)
```


## Hooks

> [!info] >怎么理解 hooks ?
> Hooks API给了 **函数组件** 使用本地组件状态的能力，执行副作用，以及更多。React还允许我们编写自定义钩子，让我们提取可重用的钩子，在React的内置钩子之上添加我们自己的行为。
> 
> React-redux 内置的 hooks 允许你的React组件订阅Redux商店和调度行动

### useSelector
- `useSelector` 从 ` store `  读取一个值并订阅更新 (使用一个 selector 函数)
- 可以对应于 `Connect` 的一个参数 `mapStateToProps`

### useDispatch
- `useDispatch` 返回 ` store ` 的调度方法(dispatch method )，让你调度行动 (dispatch actions)
- 这个钩子返回一个对Redux store的调度函数的引用。你可以根据需要使用它来调度行动。

### useStore
- `useStore` 返回一个 store 的引用, 理论上不应该经常被使用, 因为有 useSelector , 但某些情况会有用处, 比如 替换 reducer
- This hook returns a reference to the same Redux store that was passed in to the `<Provider>` component.

### useActions & useShallowEqualSelector()​
- 根据[Dan Abramov's suggestion](https://github.com/reduxjs/react-redux/issues/1252#issuecomment-488160930). Redux 新版本应致力于更简单的 Api , 所以这些 hooks 不建议使用,  因为造成了太多的概念开销和句法复杂性, 但目前还是保留在了现版本

## Connect
> [!info]  建议使用 hooks API 代替 Connect , 尽管目前依然可用 (不推荐)
> The connect() function connects a React component to a Redux store.

```js
function connect(mapStateToProps?, mapDispatchToProps?, mergeProps?, options?)

// Connect 是一个高阶函数 , 即调用一个函数返回另一个函数
// 有四个参数 都是可选 
```



## Demo
> [!success] 通过一个 demo 来理解 react-redux

### index.tsx

1. 使用 `Provider` 组件包裹 顶层组件, 并传入 store 的 props

```ts
import React from 'react';
import { createRoot } from 'react-dom/client';
import { Provider } from 'react-redux';
import { store } from './app/store';
import App from './App';
import './index.css';

const container = document.getElementById('root')!;
const root = createRoot(container);

root.render(
  <React.StrictMode>
    <Provider store={store}>
      <App />
    </Provider>
  </React.StrictMode>
);
```

### App.tsx

```ts
import { Counter } from './features/counter/Counter';

const App = () => <Counter />

export default App;
```


### 

